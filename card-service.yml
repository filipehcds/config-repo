server:
  port: ${PORT:8082}

eureka:
  client:
    serviceUrl:
      defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}
  instance:
    preferIpAddress: true
    
customer-service:
  ribbon:
    eureka:
      enabled: true
    ServerListRefreshInterval: 15000
    
logging:
  level:
    br.com.microservices.cardservice.client.CustomerClient: DEBUG   

feign:
  hystrix:
    enabled: true
  compression:
    request:
      enabled: true
    response:
      enabled: true
      
management:
  endpoints:
    web:
      exposure:
        include: hystrix.stream
      
security:
  sessions: stateless
  basic:
    enabled: false
  user:
    password: none    
  oauth2:
    resource:
      jwt:
        keyValue: |
            -----BEGIN PUBLIC KEY-----
            MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5NQ1+937e2MuQ3HQhBKz
            +g7+ibhOyxzfmMWNTZRlixeHZoJ63gfussHuauNqOQcXEQ2MwRR2O5mYvf/w03xY
            j9D/cgiwHDwUl7mdXzLG2KQdI/Os+Pd8DrYzN3benubiq9dGO72FnH332Aiio78D
            NdjXIHlEip7iNOtlBsaWwyTn4DOIMn7eo+8I6C5BxXYUpJksgJOI0o90t8zEwul2
            IXJBa1eD4eiBsb6p/8Z3Bicr/CfzKrdKeXkE6N2sEf5JWxb3s3TpYsPi1qMM4tqS
            ixHyfdt7IpLvz4MgnHscqJkS5ixUoIrqvWbpRKc5TGYrr3M88tKf+MNzrqERTyaL
            tQIDAQAB
            -----END PUBLIC KEY-----
      
hystrix:
  command:
    CustomerClient#getTest():
      execution:
        isolation:
          strategy: SEMAPHORE
          semaphore:
            maxConcurrentRequests: 5
      fallback:
        isolation:
          semaphore:
            maxConcurrentRequests: 5
      circuitBreaker:
        requestVolumeThreshold: 5